<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Dream Analyzer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background-color: #f4f4f4;
      }
      .container {
        max-width: 800px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      textarea {
        width: 100%;
        height: 150px;
        margin-bottom: 10px;
      }
      button {
        background-color: #4caf50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      button:hover {
        background-color: #45a049;
      }
      #result {
        margin-top: 20px;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Dream Analyzer</h1>
      <textarea
        id="inputText"
        placeholder="Enter the text to be analyzed"
      ></textarea>
      <button onclick="analyzeText()">Analyze</button>
      <div id="result"></div>
    </div>

    <script>
      const MISTRAL_API_KEY = "Se54d1vc2Tjd0cj9syrjCYNd5rHYFzj3";
      const MISTRAL_API_URL = "https://api.mistral.ai/v1/chat/completions";

      const systemPrompt = `A newsletter is an appeal to our target audience, and the target audience is usually a bit sad and boring characters. Accordingly, to get answers we need to ALWAYS do newsletters with FLIRT, humor and DETAILS.
        I ask you to memorize this as a mantra and repeat to yourself every single day that this is what you need to write about.
By the way, for general education, in the USA it is not even customary to talk to each other about negativity and so on, so we try to always write with positivity, even if you write so badly.


First let's start with flirting, how to write flirting not to violate the rules of the site. 
- Do not add vulgar details in terms of "I will now do with you this and this and you with me this and that". 
- be careful with photos, so that they do not show nipples and so on (swimsuits and the rest can be).

Flirting should be reasonable.
I will show examples of different beginnings of letters with a hint of flirting (further in them we translate the subject)




want your fingers be able not just to type honey))) Seriously)))
I need you to grab my hand and DO SOMETHING SPECIAL for yourself... She just said to me that I look like a LESBIAN!
Male's size is it a reason of female's hapiness?
Big and hot STEAK or ME????
Kisses, touches or even more??? Such a fruit like me deserves YOU?

Then from these ideas we continue to write newsletters and even if we wrote about fingers at the beginning of the letter, we can turn the topic to a variety of things!
Such things should be done as often as possible, your letters will be better noticed and your chance to start a conversation with a potential regular will be much higher!!!!


Now let's talk a little bit about the details in the letter and what is the main mistake of almost all beginning translators!!!!

When you write a newsletter, you have to realize that it's been written 100 times before you and it needs to be wrapped in details that will make it unique and interesting. You can't just take the topic "what do you think about breast augmentation" and write that question directly. You need to add details, why are you asking it? What kind of answer do you need to get? And so on.

Now let's take 2 examples, a typical newsletter of a newbie on this topic and a newsletter of an already experienced employee with a good balance.




ROOKIE
Dear, what do you think about breasts implants?
So many girls nowadays are trying to increase their breasts and I think really a lot last time about it. Tell me please, would it looks good on me?
What do you think if I will do it soon? Would you like me more?
Your Ivanna


EXPERIENCED EMPLOYEE
are implants really sexies than natural shape?
My female friend Evgenia always says that she has no regrets because she made implants in

her breasts, she got about 2 sizes extra and she got more confidence in herself and her husband STARTED TO SMILE FINALLY! HAHAHHAHAHAHA
I'm not joking, after she did it, I've finally noticed that he is smiling on photos! Is it a

coincidence??))))
But what about you??

Would you smile with me always or I need to change something? Your Ivanna


What's the difference:
- The girl cited a situation from her life
- She wrote with humor.
- Added emoticons.
- The beginning is better than the first newsletter, it's intriguing.
- There are capslock on sentences that are worth paying attention to.
- There are details, like the fact that the increase by 2 sizes, the fact that her husband started smiling afterwards, etc.

Overall the newsletter looks 3 times more lively. It's better to write 1 of these than 100 first drafts, don't you agree?


The third is humor, this is the easiest, to come up with something funny just try to imagine how to laugh vulgar grandfather, this phrase itself is already funny, I personally add humor in newsletters very often and it makes the newsletter 100 times livelier.

To understand how to make humor is easier then reduce the newsletters to the simplest and banal, questions from stupid publicks that were in 2014-2017, like daivinchik and so on.

To make it even clearer, one phrase will help and the crown newsletter on the theme "you would wipe my ass if I broke both arms"
All newsletters in this tone always come on hurrah, if not from the first time then from the second time for sure!

The main thing is not to whine, do not write banal and do not try to write advertising, you need to be a person, you need to make a beautiful and interesting manner of communication, only so you can make a salary of 1000-1400 + dollars!




Analyze the text according to the following criteria do not output weight:
1. To what extent is flirting used? (Score from 0 to 10). 
2. Is there humor (Yes/No).
3. Are there personalized details/live details which shows her personality really clear? (Score from 0 to 10). 
4. Is the letter written in a positive tone? (Score from 0 to 5).
5. Is there Uppercase on sentences? (Yes/No) 
6. Is it AI generated? (Yes/No) 
7. Suggestions for improving flirting, humor, or personalization.




Remember that flirting should be reasonable, without vulgar details. Humor should be appropriate and light. Details should make the text unique and interesting.

After analyzing, give an overall rating to the text on a scale of 0 to 100, where 100 is a perfect text that meets all the criteria. personalized details/live details are very important their weight should be high. and the rule should be very strict. it should have huge impact. you decide if it's personalized or no by the example of EXPERIENCED EMPLOYEE which is 100% personalized
YOU SHOULD MAKE A DECISION If it's Ai generated and IF you detected it, you should deduct 30 from users score
You should calculate final score out of 100 using weights without deduction 
Weight
Flirting (max. 10 points) → (40 / 10) * result which user got out of 10
Humor (max. 5 points) → (5 / 10) * result which user got out of 5
Personalization (max. 10 points) → (45 / 10) * result which user got out of 10
Positivity (max. 5 points) → (5 / 10) * result which user got out of 5
Upper case (max. 5 points) → (5 / 10) * result which user got out of 5
AI → -30 (if “yes”), 0 (if “no”)
and only then YOU SHOULD deduct from the final score if THERE AI DETECTED 
You should output result score as rounded amount/100  example 20/100

`;

      async function analyzeText() {
        const inputText = document.getElementById("inputText").value;
        const resultDiv = document.getElementById("result");

        if (!inputText) {
          resultDiv.innerHTML = "Please enter valid text";
          return;
        }

        if (inputText.length < 200) {
          resultDiv.innerHTML = "Text is too short";
          return;
        }
        if (inputText.length > 5000) {
          resultDiv.innerHTML = "Text is too long";
          return;
        }
        resultDiv.innerHTML = "Analyzing...";

        try {
          // Mistral API Analysis
          const mistralResponse = await fetch(MISTRAL_API_URL, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${MISTRAL_API_KEY}`,
            },
            body: JSON.stringify({
              model: "pixtral-12b-2409",
              messages: [
                { role: "system", content: systemPrompt },
                { role: "user", content: inputText },
              ],
            }),
          });

          if (!mistralResponse.ok) {
            throw new Error(`HTTP error! status: ${mistralResponse.status}`);
          }

          const mistralData = await mistralResponse.json();
          const analysis = mistralData.choices[0].message.content;

          const scoreMatchAll = [
            ...analysis.matchAll(
              /(?:Final Score:|Total Score:|Overall Score:|Score:)?\s*?\s*(\d+(?:\.\d+)?)\/100/g
            ),
          ];
          const score = scoreMatchAll.length
            ? parseFloat(scoreMatchAll[scoreMatchAll.length - 1][1])
            : 0;

          let resultHtml = marked.parse(analysis);

          if (score > 70) {
            resultHtml =
              `<p><strong>Overall result: ${score}%</strong> Good! The text meets most of the criteria.</p>` +
              resultHtml;
          } else {
            resultHtml =
              `<p><strong>Overall result: ${score}%</strong> Improvement required. Note suggestions for improvement.</p>` +
              resultHtml;
          }

          resultDiv.innerHTML = resultHtml;
        } catch (error) {
          resultDiv.innerHTML = `There was an error in the analysis: ${error.message}`;
        }
      }
    </script>
  </body>
</html>
